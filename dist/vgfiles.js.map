{"version":3,"file":"vgfiles.js","mappings":"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","sources":["webpack://vg/webpack/bootstrap","webpack://vg/webpack/runtime/define property getters","webpack://vg/webpack/runtime/hasOwnProperty shorthand","webpack://vg/webpack/runtime/make namespace object","webpack://vg/./src/VGFiles/js/VGFiles.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const mergeDeepObject = function (...objects) {\r\n\tconst isObject = obj => obj && typeof obj === 'object';\r\n\r\n\treturn objects.reduce((prev, obj) => {\r\n\t\tObject.keys(obj).forEach(key => {\r\n\t\t\tconst pVal = prev[key];\r\n\t\t\tconst oVal = obj[key];\r\n\r\n\t\t\tif (Array.isArray(pVal) && Array.isArray(oVal)) {\r\n\t\t\t\tprev[key] = pVal.concat(...oVal);\r\n\t\t\t}\r\n\t\t\telse if (isObject(pVal) && isObject(oVal)) {\r\n\t\t\t\tprev[key] = mergeDeepObject(pVal, oVal);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tprev[key] = oVal;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn prev;\r\n\t}, {});\r\n}\r\n\r\nconst listener = function(event, el, callback) {\r\n\tdocument.addEventListener(event, function (e) {\r\n\t\tlet selectors = document.body.querySelectorAll(el),\r\n\t\t\telement = e.target,\r\n\t\t\tindex = -1;\r\n\r\n\t\twhile (element && ((index = Array.prototype.indexOf.call(selectors, element)) === -1)) {\r\n\t\t\telement = element.parentElement;\r\n\t\t}\r\n\r\n\t\tif (index > -1) {\r\n\t\t\t(function () {\r\n\t\t\t\tif (typeof callback === \"function\") {\r\n\t\t\t\t\tcallback(element);\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}).call(element, e);\r\n\t\t}\r\n\t});\r\n}\r\n\r\nconst defaultParams = {\r\n\tlimits: {\r\n\t\tcount: 0,\r\n\t\tsizes: 0\r\n\t},\r\n\tisImage: false,\r\n\tisInfo: true,\r\n\ttypes: ['image/png', \"image/jpeg\", \"image/bmp\", \"image/ico\", \"image/gif\", \"image/jfif\", \"image/tiff\", \"image/webp\"]\r\n}\r\n\r\nclass VGFiles {\r\n\tconstructor(container, arg = {}) {\r\n\t\tthis.container = container || undefined;\r\n\t\tthis.classes = {\r\n\t\t\tcontainer: 'vg-files',\r\n\t\t\tlabel: 'vg-files-label',\r\n\t\t\tinfo: 'vg-files-info',\r\n\t\t\timages: 'vg-files-info--images',\r\n\t\t\tlist: 'vg-files-info--list',\r\n\t\t\tfake: 'vg-files-fake'\r\n\t\t};\r\n\t\tthis.settings = mergeDeepObject(defaultParams, arg);\r\n\t\tthis.files = [];\r\n\r\n\t\tif (this.container) {\r\n\t\t\tthis.isInitChange = false;\r\n\t\t\tthis.init();\r\n\t\t}\r\n\t}\r\n\r\n\tinit() {\r\n\t\tconst _this = this;\r\n\r\n\t\t_this.id     = _this.container.querySelector('[data-vg-toggle]').getAttribute('id') || undefined;\r\n\t\t_this.name   = _this.container.querySelector('[data-vg-toggle]').getAttribute('name') || undefined;\r\n\t\t_this.accept = _this.container.querySelector('[data-vg-toggle]').getAttribute('accept') || undefined;\r\n\r\n\t\t_this.settings.isImage      =  _this.container.dataset.imagePreview === 'true' || false;\r\n\t\t_this.settings.isInfo       =  _this.container.dataset.infoList !== 'false';\r\n\t\t_this.settings.limits.count =  parseInt(_this.container.dataset.limitCount) || 0;\r\n\t\t_this.settings.limits.sizes =  parseInt(_this.container.dataset.limitSize) || 0;\r\n\r\n\t\t_this.changeListener();\r\n\r\n\t\tlet $dismiss = _this.container.querySelector('[data-dismiss=\"vg-files\"]');\r\n\t\t$dismiss.onclick = function () {\r\n\t\t\t_this.clear(true);\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tchange(self) {\r\n\t\tconst _this = this;\r\n\r\n\t\tlet values = self.files,\r\n\t\t\tappended_files = [];\r\n\r\n\t\t_this.clear();\r\n\r\n\t\tif (values.length) {\r\n\t\t\tif (_this.settings.limits.count !== 1) {\r\n\t\t\t\tself.removeAttribute('id');\r\n\t\t\t\tself.removeAttribute('data-vg-toggle');\r\n\t\t\t\tself.classList.add(_this.classes.fake);\r\n\t\t\t\tself.onchange = null;\r\n\r\n\t\t\t\tlet accept = _this.accept ? 'accept=\"' + _this.accept + '\"' : '';\r\n\r\n\t\t\t\t_this.container.insertAdjacentHTML('beforeEnd', '<input type=\"file\" name=\"'+ _this.name +'\" id=\"'+ _this.id +'\" data-vg-toggle=\"files\" ' + accept + ' multiple>');\r\n\r\n\t\t\t\t_this.changeListener();\r\n\t\t\t}\r\n\r\n\t\t\tappended_files = _this.append(values);\r\n\r\n\t\t\tif (appended_files.length) {\r\n\t\t\t\tlet $fileInfo = _this.container.querySelector('.' + this.classes.info);\r\n\t\t\t\t$fileInfo.classList.add('show');\r\n\r\n\t\t\t\tlet $count = $fileInfo.querySelector('.' + _this.classes.info + '--wrapper-count');\r\n\t\t\t\tif ($count) $count.innerHTML = appended_files.length + '<span>[' + _this.getSizes(appended_files, true) + ']</span>';\r\n\r\n\t\t\t\t_this.setImages(appended_files);\r\n\t\t\t\t_this.setInfoList(appended_files);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tchangeListener() {\r\n\t\tconst _this = this;\r\n\r\n\t\tlet $toggle = _this.container.querySelectorAll('[data-vg-toggle=\"files\"]');\r\n\t\t[...$toggle].forEach(function (el) {\r\n\t\t\tel.addEventListener('change', function () {\r\n\t\t\t\t_this.change(this)\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tappend(values) {\r\n\t\tconst _this = this;\r\n\r\n\t\t_this.files.push(values);\r\n\t\treturn pushFiles(_this.files, _this.settings.limits.count);\r\n\r\n\t\tfunction pushFiles (files, limit) {\r\n\t\t\tlet arr = [];\r\n\t\t\tfor (let i = 0; i <= files.length - 1; i++) {\r\n\t\t\t\tlet count = 1;\r\n\t\t\t\tfor (const file of files[i]) {\r\n\t\t\t\t\tif (limit === 0) {\r\n\t\t\t\t\t\tarr.push(file);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (count <= limit) {\r\n\t\t\t\t\t\t\tarr.unshift(file);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (limit > 0 && arr.length > limit) {\r\n\t\t\t\tarr.splice(limit, arr.length - limit);\r\n\t\t\t}\r\n\r\n\t\t\treturn arr;\r\n\t\t}\r\n\t}\r\n\r\n\tsetImages(files) {\r\n\t\tlet _this = this;\r\n\r\n\t\tif (_this.settings.isImage) {\r\n\t\t\tconst $fileInfo = _this.container.querySelector('.' + _this.classes.info);\r\n\t\t\tif ($fileInfo) {\r\n\t\t\t\tlet $selector = $fileInfo.querySelector('.' + _this.classes.images);\r\n\t\t\t\tif (!$selector) {\r\n\t\t\t\t\t$selector = document.createElement('div');\r\n\t\t\t\t\t$selector.classList.add(_this.classes.images);\r\n\t\t\t\t\t$fileInfo.prepend($selector);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (const file of files) {\r\n\t\t\t\t\tif (this.checkType(file.type)) {\r\n\t\t\t\t\t\tlet src = URL.createObjectURL(file);\r\n\t\t\t\t\t\t$selector.insertAdjacentHTML('beforeEnd', '<span><img src=\"'+ src +'\" alt=\"#\"></span>');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tsetInfoList(files) {\r\n\t\tlet _this = this;\r\n\r\n\t\tif (_this.settings.isInfo) {\r\n\t\t\tconst $fileInfo = _this.container.querySelector('.' + _this.classes.info);\r\n\t\t\tif ($fileInfo) {\r\n\t\t\t\tlet $list = $fileInfo.querySelector('.' + _this.classes.list);\r\n\t\t\t\tif (!$list) {\r\n\t\t\t\t\t$list = document.createElement('ul');\r\n\t\t\t\t\t$list.classList.add(_this.classes.list);\r\n\t\t\t\t\t$fileInfo.append($list);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet i = 1;\r\n\t\t\t\tfor (const file of files) {\r\n\t\t\t\t\tlet size = this.getSizes(file.size);\r\n\t\t\t\t\t$list.insertAdjacentHTML('beforeEnd', '<li><span>'+ (i) + '.</span><span>' + file.name + '</span><span>['+ size +']</span></li>');\r\n\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcheckType(type) {\r\n\t\treturn this.settings.types.includes(type);\r\n\t}\r\n\r\n\tgetSizes(size, array = false) {\r\n\t\tconst _this = this;\r\n\r\n\t\tlet size_kb = size / 1024,\r\n\t\t\tsize_mb = size_kb / 1024,\r\n\t\t\tsize_gb = size_mb / 1024,\r\n\t\t\tsize_tb = size_gb / 1024;\r\n\r\n\t\tlet output = 0;\r\n\r\n\t\tif (size_kb <= 1024) {\r\n\t\t\toutput = size_kb.toFixed(3) + ' Kb';\r\n\t\t} else if (size_kb >= 1024 && size_mb <= 1024) {\r\n\t\t\toutput = size_mb.toFixed(3) + ' Mb';\r\n\t\t} else if (size_mb >= 1024 && size_gb <= 1024) {\r\n\t\t\toutput = size_gb.toFixed(3) + ' Gb';\r\n\t\t} else {\r\n\t\t\toutput = size_tb.toFixed(3) + ' Tb';\r\n\t\t}\r\n\r\n\t\tif (array) {\r\n\t\t\tlet arrSizes = [];\r\n\t\t\tsize.map(function (el) {\r\n\t\t\t\tarrSizes.push(el.size);\r\n\t\t\t})\r\n\r\n\t\t\toutput = arrSizes.reduce( function (a, b) {\r\n\t\t\t\treturn a + b\r\n\t\t\t});\r\n\r\n\t\t\toutput = _this.getSizes(output);\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\t}\r\n\r\n\tclear(all = false) {\r\n\t\tconst _this = this;\r\n\r\n\t\tlet $filesInfo = _this.container.querySelector('.' + _this.classes.info);\r\n\t\tif ($filesInfo) {\r\n\t\t\tif (_this.settings.isImage) {\r\n\t\t\t\tlet $filesInfoImages = $filesInfo.querySelector('.' + _this.classes.images);\r\n\t\t\t\tif ($filesInfoImages) {\r\n\t\t\t\t\tlet $images = $filesInfoImages.querySelectorAll('span');\r\n\t\t\t\t\tif ($images.length) {\r\n\t\t\t\t\t\tfor (const $image of $images) {\r\n\t\t\t\t\t\t\t$image.parentNode.removeChild($image);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (_this.settings.isInfo) {\r\n\t\t\t\tlet $filesInfoList = $filesInfo.querySelector('.' + _this.classes.list);\r\n\t\t\t\tif ($filesInfoList) {\r\n\t\t\t\t\tlet $li = $filesInfoList.querySelectorAll('li');\r\n\t\t\t\t\tif ($li.length) {\r\n\t\t\t\t\t\tfor (const $item of $li) {\r\n\t\t\t\t\t\t\t$item.parentNode.removeChild($item);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (all) {\r\n\t\t\t_this.container.querySelector('[type=\"file\"]').value = '';\r\n\r\n\t\t\tlet fakeInputs = _this.container.querySelectorAll('.' + _this.classes.fake);\r\n\t\t\tif (fakeInputs.length) {\r\n\t\t\t\tfor (const fakeInput of fakeInputs) {\r\n\t\t\t\t\tfakeInput.remove();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ($filesInfo) {\r\n\t\t\t\t$filesInfo.classList.remove('show');\r\n\t\t\t}\r\n\r\n\t\t\t_this.files = [];\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction ready() {\r\n\tlet $selectors = document.querySelectorAll('.vg-files');\r\n\tif ($selectors.length) {\r\n\t\tfor (const $selector of $selectors) {\r\n\t\t\tnew VGFiles($selector);\r\n\t\t}\r\n\t}\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", ready);\r\n\r\nexport default VGFiles;\r\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","mergeDeepObject","objects","isObject","reduce","prev","keys","forEach","pVal","oVal","Array","isArray","concat","defaultParams","limits","count","sizes","isImage","isInfo","types","VGFiles","constructor","container","arg","this","undefined","classes","label","info","images","list","fake","settings","files","isInitChange","init","_this","id","querySelector","getAttribute","name","accept","dataset","imagePreview","infoList","parseInt","limitCount","limitSize","changeListener","onclick","clear","change","self","values","appended_files","length","removeAttribute","classList","add","onchange","insertAdjacentHTML","append","$fileInfo","$count","innerHTML","getSizes","setImages","setInfoList","querySelectorAll","el","addEventListener","push","limit","arr","i","file","unshift","splice","pushFiles","$selector","document","createElement","prepend","checkType","type","src","URL","createObjectURL","$list","size","includes","array","size_kb","size_mb","size_gb","size_tb","output","toFixed","arrSizes","map","a","b","all","$filesInfo","$filesInfoImages","$images","$image","parentNode","removeChild","$filesInfoList","$li","$item","fakeInputs","fakeInput","remove","$selectors"],"sourceRoot":""}